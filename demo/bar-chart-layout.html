<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bar Chart SVG</title>

    <script
            src="https://code.jquery.com/jquery-3.2.1.min.js"
            integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
            crossorigin="anonymous"></script>

    <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>

    <script type="text/javascript">

        $(function () {

            var data = [
                {
                    name: 'Locke',
                    value: 28
                },
                {
                    name: 'Reyes',
                    value: 10
                },
                {
                    name: 'Ford',
                    value:22
                },
                {
                    name: 'Jarrah',
                    value: 16
                },
                {
                    name: 'Shephard',
                    value: 32
                },
                {
                    name: 'Kwon',
                    value: 42
                }
            ];

            var width = 420,
                height = 420;

            var horizontal = false;

            //x for horizontal bar
            //y for vertical bar
            //since we can change layout we will use xy for both cases
            var xy = d3.scale.linear()
                .range([horizontal ? 0 : height, horizontal ? width : 0]) /* display range - chart width */
                .domain([0, d3.max(data, function(d){ return d.value; })]);

            //Add Size to Chart
            var chart = d3.select('.chart')
                .attr('width', width)
                .attr('height', height);

            var barSize = (horizontal ? height: width) / data.length;
            //Create bar containers and set position using transform translate
            var bar = chart.selectAll('g')
                .data(data)
                .enter().append('g')
                .attr('transform', function (d,i){
                    return 'translate('+(horizontal ? 0 : i*barSize)+','+(horizontal ? i*barSize : 0)+')';
                });

            //Add actual bar (rect)
            bar.append('rect')
                .attr('width', function (d){
                    return horizontal ? xy(d.value) : barSize - 1;
                })
                .attr('height', function (d){
                    return horizontal ? barSize - 1 : height - xy(d.value);
                })
                .attr('y', function (d){
                    return horizontal ? 0 : xy(d.value);
                })

            bar.append('text')
                // x and function (d) { return x(d); } return same value
                // however x cannot be manipulated so if we need to get width x - 1 we would use the function (d) { return x(d) - 1; }
                .attr('x', function (d){
                    return horizontal ? xy(d.value) - 3 : barSize / 2;
                })
                .attr('y', function(d){
                    return horizontal ? barSize / 2 : xy(d.value) + 10;
                })
                .attr('dy', '.35em') // line height
                .text(function (d,i){
                    return d.value;
                });

        });
    </script>

    <style>
        .chart rect {
            fill: steelblue;
        }

        .chart text {
            fill: #fff;
            font: 10px sans-serif;
            text-anchor: end;
        }
    </style>
</head>
<body>
<svg class="chart"></svg>
</body>
</html>